# Stock Viewer ä½¿ç”¨æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜é¡¹ç›®ä¸­å„ä¸ª pnpm å‘½ä»¤çš„ç”¨é€”ã€æµç¨‹å’Œæœ€ä½³å®è·µã€‚

## ğŸ“‹ ç›®å½•

- [åŸºç¡€ç¼–è¯‘å‘½ä»¤](#åŸºç¡€ç¼–è¯‘å‘½ä»¤)
- [æ‰“åŒ…å‘½ä»¤ (package)](#æ‰“åŒ…å‘½ä»¤-package)
- [ç‰ˆæœ¬ç®¡ç†å‘½ä»¤ (version)](#ç‰ˆæœ¬ç®¡ç†å‘½ä»¤-version)
- [å‘å¸ƒå‘½ä»¤ (publish)](#å‘å¸ƒå‘½ä»¤-publish)
- [ç”Ÿå‘½å‘¨æœŸé’©å­](#ç”Ÿå‘½å‘¨æœŸé’©å­)
- [packageã€versionã€publish çš„å…³è”å’ŒåŒºåˆ«](#packageversionpublish-çš„å…³è”å’ŒåŒºåˆ«)
- [å®é™…ä½¿ç”¨æµç¨‹](#å®é™…ä½¿ç”¨æµç¨‹)
- [æœ€ä½³å®è·µå»ºè®®](#æœ€ä½³å®è·µå»ºè®®)

---

## ğŸ”§ åŸºç¡€ç¼–è¯‘å‘½ä»¤

### 1. `compile`

```bash
pnpm run compile
```

- **ç”¨é€”**: ç¼–è¯‘ TypeScript ä»£ç ä¸º JavaScript
- **åŸç†**: æ‰§è¡Œ `tsc -p ./`ï¼Œæ ¹æ® `tsconfig.json` é…ç½®ç¼–è¯‘
- **è¾“å‡º**: ç”Ÿæˆ `out/` ç›®å½•ä¸­çš„ `.js` æ–‡ä»¶
- **åœºæ™¯**: 
  - å‘å¸ƒå‰ç¡®ä¿ä»£ç å·²ç¼–è¯‘
  - æ‰‹åŠ¨è§¦å‘ç¼–è¯‘

### 2. `watch`

```bash
pnpm run watch
```

- **ç”¨é€”**: ç›‘å¬æ¨¡å¼ï¼Œè‡ªåŠ¨ç¼–è¯‘ä¿®æ”¹çš„æ–‡ä»¶
- **åœºæ™¯**: å¼€å‘æ—¶ä½¿ç”¨ï¼Œä¿å­˜ä»£ç åè‡ªåŠ¨ç¼–è¯‘
- **åŸç†**: `tsc -watch -p ./` æŒç»­ç›‘å¬æ–‡ä»¶å˜åŒ–
- **æç¤º**: åœ¨ç»ˆç«¯ä¿æŒè¿è¡Œï¼ŒæŒ‰ `Ctrl+C` åœæ­¢

### 3. `build`

```bash
pnpm run build
```

- **ç”¨é€”**: æ„å»ºé¡¹ç›®ï¼ˆç­‰åŒäº compileï¼‰
- **åŸç†**: è°ƒç”¨ `pnpm run compile`
- **åœºæ™¯**: å‘å¸ƒå‰çš„æ ‡å‡†æ„å»ºæ­¥éª¤

### 4. `clean`

```bash
pnpm run clean
```

- **ç”¨é€”**: æ¸…ç†ç¼–è¯‘äº§ç‰©
- **åŸç†**: `rimraf out *.vsix` åˆ é™¤ `out/` ç›®å½•å’Œæ‰€æœ‰ `.vsix` æ–‡ä»¶
- **åœºæ™¯**: 
  - é‡æ–°æ‰“åŒ…å‰æ¸…ç†æ—§æ–‡ä»¶
  - è§£å†³ç¼–è¯‘ç¼“å­˜é—®é¢˜
  - å‡†å¤‡å…¨æ–°æ„å»º

---

## ğŸ“¦ æ‰“åŒ…å‘½ä»¤ (package)

### 5. `package`

```bash
pnpm run package
```

- **ç”¨é€”**: æ‰“åŒ…æ‰©å±•ä¸º `.vsix` æ–‡ä»¶ï¼ˆç”¨äºæœ¬åœ°å®‰è£…æˆ–æ‰‹åŠ¨åˆ†å‘ï¼‰
- **æµç¨‹**: 
  1. `pnpm run build` - ç¼–è¯‘ä»£ç 
  2. `vsce package` - æ‰“åŒ…æˆ `.vsix` æ–‡ä»¶
- **è¾“å‡º**: ç”Ÿæˆ `stock-viewer-x.x.x.vsix` æ–‡ä»¶
- **åœºæ™¯**: 
  - æœ¬åœ°æµ‹è¯•å®‰è£…ï¼ˆé€šè¿‡ VS Code çš„"ä» VSIX å®‰è£…"ï¼‰
  - ç¦»çº¿åˆ†å‘ç»™å…¶ä»–äºº
  - å†…ç½‘æˆ–ç§æœ‰éƒ¨ç½²

**å¦‚ä½•å®‰è£… .vsix æ–‡ä»¶ï¼š**
1. æ‰“å¼€ VS Code
2. æŒ‰ `Ctrl+Shift+P` (Mac: `Cmd+Shift+P`)
3. è¾“å…¥ "Install from VSIX"
4. é€‰æ‹©ç”Ÿæˆçš„ `.vsix` æ–‡ä»¶

### 6. `package:patch`

```bash
pnpm run package:patch
```

- **ç”¨é€”**: å‡çº§ **patch** ç‰ˆæœ¬å·å¹¶æ‰“åŒ…
- **æµç¨‹**:
  1. `pnpm version patch --no-git-tag-version` - ç‰ˆæœ¬å· +0.0.1
  2. `pnpm run package` - æ‰“åŒ…
- **ç¤ºä¾‹**: `0.0.1` â†’ `0.0.2`
- **é€‚ç”¨**: Bug ä¿®å¤ã€å°æ”¹è¿›

### 7. `package:minor`

```bash
pnpm run package:minor
```

- **ç”¨é€”**: å‡çº§ **minor** ç‰ˆæœ¬å·å¹¶æ‰“åŒ…
- **ç¤ºä¾‹**: `0.0.1` â†’ `0.1.0`
- **é€‚ç”¨**: æ–°åŠŸèƒ½æ·»åŠ ã€å‘åå…¼å®¹çš„æ›´æ”¹

### 8. `package:major`

```bash
pnpm run package:major
```

- **ç”¨é€”**: å‡çº§ **major** ç‰ˆæœ¬å·å¹¶æ‰“åŒ…
- **ç¤ºä¾‹**: `0.1.0` â†’ `1.0.0`
- **é€‚ç”¨**: ç ´åæ€§æ›´æ”¹ã€é‡å¤§é‡æ„

---

## ğŸ”¢ ç‰ˆæœ¬ç®¡ç†å‘½ä»¤ (version)

### 9. `version:patch`

```bash
pnpm run version:patch
```

- **ç”¨é€”**: ä»…å‡çº§ patch ç‰ˆæœ¬å·ï¼ˆä¸æ‰“åŒ…ã€ä¸å‘å¸ƒï¼‰
- **åŸç†**: `pnpm version patch --no-git-tag-version`
- **ä¿®æ”¹**: ç›´æ¥ä¿®æ”¹ `package.json` ä¸­çš„ `version` å­—æ®µ
- **åœºæ™¯**: æƒ³æ‰‹åŠ¨æ§åˆ¶æ‰“åŒ…å’Œå‘å¸ƒæ—¶æœº

### 10. `version:minor`

```bash
pnpm run version:minor
```

- **ç”¨é€”**: ä»…å‡çº§ minor ç‰ˆæœ¬å·
- **ç¤ºä¾‹**: `0.0.1` â†’ `0.1.0`

### 11. `version:major`

```bash
pnpm run version:major
```

- **ç”¨é€”**: ä»…å‡çº§ major ç‰ˆæœ¬å·
- **ç¤ºä¾‹**: `0.1.0` â†’ `1.0.0`

---

## ğŸš€ å‘å¸ƒå‘½ä»¤ (publish)

### 12. `publish`

```bash
pnpm run publish
```

- **ç”¨é€”**: å‘å¸ƒæ‰©å±•åˆ° VS Code Marketplaceï¼ˆä¸å‡çº§ç‰ˆæœ¬ï¼‰
- **æµç¨‹**:
  1. `pnpm run build` - ç¼–è¯‘ä»£ç 
  2. `vsce publish` - å‘å¸ƒåˆ°å¸‚åœº
- **å‰æ**: 
  - âœ… ç‰ˆæœ¬å·å¿…é¡»æ¯”å·²å‘å¸ƒçš„ç‰ˆæœ¬é«˜
  - âœ… éœ€è¦æœ‰æ•ˆçš„ Personal Access Token (PAT)
  - âœ… Git å·¥ä½œåŒºåº”è¯¥æ˜¯å¹²å‡€çš„
- **åœºæ™¯**: å·²æ‰‹åŠ¨å‡çº§è¿‡ç‰ˆæœ¬å·

### 13. `publish:patch`

```bash
pnpm run publish:patch
```

- **ç”¨é€”**: å‡çº§ patch ç‰ˆæœ¬å¹¶å‘å¸ƒåˆ° Marketplace
- **æµç¨‹**:
  1. `pnpm run version:patch` - ç‰ˆæœ¬å· +0.0.1
  2. `pnpm run build` - ç¼–è¯‘
  3. `vsce publish patch` - å‘å¸ƒ
- **ç¤ºä¾‹**: `0.0.1` â†’ `0.0.2` å¹¶å‘å¸ƒ
- **é€‚ç”¨**: Bug ä¿®å¤ã€æ–‡æ¡£æ›´æ–°

### 14. `publish:minor`

```bash
pnpm run publish:minor
```

- **ç”¨é€”**: å‡çº§ minor ç‰ˆæœ¬å¹¶å‘å¸ƒ
- **ç¤ºä¾‹**: `0.0.1` â†’ `0.1.0` å¹¶å‘å¸ƒ
- **é€‚ç”¨**: æ–°åŠŸèƒ½æ·»åŠ 

### 15. `publish:major`

```bash
pnpm run publish:major
```

- **ç”¨é€”**: å‡çº§ major ç‰ˆæœ¬å¹¶å‘å¸ƒ
- **ç¤ºä¾‹**: `0.1.0` â†’ `1.0.0` å¹¶å‘å¸ƒ
- **é€‚ç”¨**: é‡å¤§æ›´æ–°ã€ç ´åæ€§æ›´æ”¹

---

## ğŸ”„ ç”Ÿå‘½å‘¨æœŸé’©å­

### 16. `vscode:prepublish`

```bash
# è‡ªåŠ¨æ‰§è¡Œï¼Œä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨
```

- **ç”¨é€”**: å‘å¸ƒå‰è‡ªåŠ¨æ‰§è¡Œçš„é’©å­
- **æ—¶æœº**: `vsce publish` æˆ– `vsce package` ä¹‹å‰è‡ªåŠ¨è§¦å‘
- **åŸç†**: è°ƒç”¨ `pnpm run compile` ç¡®ä¿ä»£ç å·²ç¼–è¯‘
- **é‡è¦**: è¿™æ˜¯ VS Code æ‰©å±•çš„æ ‡å‡†é’©å­

### 17. `prepublishOnly`

```bash
# è‡ªåŠ¨æ‰§è¡Œï¼Œä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨
```

- **ç”¨é€”**: pnpm publish å‰æ‰§è¡Œï¼ˆVS Code æ‰©å±•ä¸€èˆ¬ä¸ç”¨ï¼‰
- **åŸç†**: æ¸…ç†æ—§æ–‡ä»¶å¹¶é‡æ–°æ„å»º
- **æ³¨æ„**: ä¸ `vscode:prepublish` ä¸åŒ

---

## ğŸ”„ packageã€versionã€publish çš„å…³è”å’ŒåŒºåˆ«

### ğŸ“Š å¯¹æ¯”è¡¨æ ¼

| å‘½ä»¤ç±»å‹ | ç‰ˆæœ¬å‡çº§ | ç¼–è¯‘ä»£ç  | æ‰“åŒ… .vsix | å‘å¸ƒåˆ°å¸‚åœº | ä½¿ç”¨åœºæ™¯ |
|---------|---------|---------|-----------|-----------|---------|
| **version** | âœ… | âŒ | âŒ | âŒ | åªæƒ³æ”¹ç‰ˆæœ¬å· |
| **package** | âŒ | âœ… | âœ… | âŒ | æœ¬åœ°æµ‹è¯•å®‰è£… |
| **publish** | âŒ | âœ… | âŒ | âœ… | å‘å¸ƒåˆ°å¸‚åœº |
| **package:patch** | âœ… | âœ… | âœ… | âŒ | å‡çº§ç‰ˆæœ¬+æ‰“åŒ… |
| **publish:patch** | âœ… | âœ… | âŒ | âœ… | å‡çº§ç‰ˆæœ¬+å‘å¸ƒ |

### ğŸ” è¯¦ç»†åŒºåˆ«

#### 1ï¸âƒ£ **version å‘½ä»¤**

```bash
pnpm run version:patch   # 0.0.1 â†’ 0.0.2
```

- **åªåšä¸€ä»¶äº‹**: ä¿®æ”¹ `package.json` ä¸­çš„ç‰ˆæœ¬å·
- **ä¸ç¼–è¯‘ã€ä¸æ‰“åŒ…ã€ä¸å‘å¸ƒ**
- **é€‚ç”¨åœºæ™¯**: 
  - æƒ³å…ˆæ”¹ç‰ˆæœ¬å·ï¼Œç¨åå†æ‰“åŒ…/å‘å¸ƒ
  - æ‰¹é‡å¤„ç†å¤šä¸ªæ“ä½œå‰å…ˆç»Ÿä¸€ç‰ˆæœ¬å·

#### 2ï¸âƒ£ **package å‘½ä»¤**

```bash
pnpm run package         # ç”Ÿæˆ stock-viewer-0.0.1.vsix
pnpm run package:patch   # å‡çº§ç‰ˆæœ¬ â†’ 0.0.2 â†’ ç”Ÿæˆ .vsix
```

- **ç›®æ ‡**: ç”Ÿæˆ `.vsix` æ–‡ä»¶
- **ç”¨é€”**: 
  - âœ… æœ¬åœ°å®‰è£…æµ‹è¯•ï¼ˆé€šè¿‡ VS Code çš„"ä» VSIX å®‰è£…"ï¼‰
  - âœ… ç¦»çº¿åˆ†å‘ç»™å…¶ä»–äºº
  - âœ… å†…ç½‘æˆ–ç§æœ‰éƒ¨ç½²
- **ä¸å‘å¸ƒåˆ°å¸‚åœº**: æ–‡ä»¶åªåœ¨æœ¬åœ°
- **å¯¹æ¯” publish**: ä¸éœ€è¦å¸‚åœºè´¦å·å’Œ token

#### 3ï¸âƒ£ **publish å‘½ä»¤**

```bash
pnpm run publish         # å‘å¸ƒå½“å‰ç‰ˆæœ¬åˆ°å¸‚åœº
pnpm run publish:patch   # å‡çº§ç‰ˆæœ¬ â†’ 0.0.2 â†’ å‘å¸ƒ
```

- **ç›®æ ‡**: å‘å¸ƒåˆ° VS Code Marketplace
- **è¦æ±‚**:
  - âœ… éœ€è¦ marketplace è´¦å·
  - âœ… éœ€è¦ Personal Access Token (PAT)
  - âœ… ç‰ˆæœ¬å·å¿…é¡»æ¯”å¸‚åœºä¸Šçš„ç‰ˆæœ¬é«˜
- **ç”¨é€”**: 
  - âœ… å…¬å¼€å‘å¸ƒï¼Œæ‰€æœ‰ç”¨æˆ·å¯æœç´¢å®‰è£…
  - âœ… è‡ªåŠ¨æ›´æ–°æé†’
- **ä¸ç”Ÿæˆ .vsix æ–‡ä»¶**: ç›´æ¥å‘å¸ƒåˆ°äº‘ç«¯

---

## ğŸ¯ å®é™…ä½¿ç”¨æµç¨‹

### åœºæ™¯1: æ—¥å¸¸å¼€å‘æµ‹è¯•

```bash
# 1. å¯åŠ¨ç›‘å¬æ¨¡å¼
pnpm run watch

# 2. ä¿®æ”¹ä»£ç ...
# ä»£ç ä¼šè‡ªåŠ¨ç¼–è¯‘

# 3. æ‰“åŒ…æµ‹è¯•
pnpm run package

# 4. åœ¨ VS Code ä¸­å®‰è£… .vsix æµ‹è¯•
# Extensions â†’ Install from VSIX â†’ é€‰æ‹©ç”Ÿæˆçš„æ–‡ä»¶

# 5. æµ‹è¯•åŠŸèƒ½
```

### åœºæ™¯2: å‘å¸ƒå°æ›´æ–°ï¼ˆBugä¿®å¤ï¼‰

```bash
# 1. ç¡®ä¿æ‰€æœ‰ä¿®æ”¹å·²æäº¤
git add .
git commit -m "fix: ä¿®å¤æŸä¸ªbug"

# 2. å‡çº§ patch ç‰ˆæœ¬å¹¶å‘å¸ƒ
pnpm run publish:patch
# 0.0.1 â†’ 0.0.2 å¹¶è‡ªåŠ¨å‘å¸ƒ

# 3. æ¨é€ä»£ç åˆ° GitHub
git push
```

### åœºæ™¯3: å‘å¸ƒæ–°åŠŸèƒ½

```bash
# 1. æäº¤æ–°åŠŸèƒ½ä»£ç 
git add .
git commit -m "feat: æ–°å¢æŸåŠŸèƒ½"

# 2. å‡çº§ minor ç‰ˆæœ¬å¹¶å‘å¸ƒ
pnpm run publish:minor
# 0.0.1 â†’ 0.1.0 å¹¶è‡ªåŠ¨å‘å¸ƒ

# 3. æ¨é€ä»£ç 
git push
```

### åœºæ™¯4: å…ˆæ‰“åŒ…æµ‹è¯•ï¼Œç¡®è®¤æ— è¯¯å†å‘å¸ƒ

```bash
# 1. å‡çº§ç‰ˆæœ¬å¹¶æ‰“åŒ…
pnpm run package:patch
# ç”Ÿæˆ stock-viewer-0.0.2.vsix

# 2. æœ¬åœ°æµ‹è¯• .vsix æ–‡ä»¶
# åœ¨ VS Code ä¸­å®‰è£…å¹¶æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

# 3. ç¡®è®¤æ— è¯¯åå‘å¸ƒåˆ°å¸‚åœº
pnpm run publish
# ä½¿ç”¨å·²å‡çº§çš„ç‰ˆæœ¬å·å‘å¸ƒ

# 4. æäº¤ä»£ç 
git add .
git commit -m "chore: å‘å¸ƒ v0.0.2"
git push
```

### åœºæ™¯5: åˆ†æ­¥æ“ä½œï¼ˆç²¾ç»†æ§åˆ¶ï¼‰

```bash
# 1. å…ˆæ”¹ç‰ˆæœ¬å·
pnpm run version:minor
# 0.0.1 â†’ 0.1.0

# 2. ç¼–è¯‘ä»£ç 
pnpm run build

# 3. æ‰“åŒ…æµ‹è¯•
pnpm run package

# 4. æœ¬åœ°æµ‹è¯•...

# 5. ç¡®è®¤åå‘å¸ƒ
pnpm run publish

# 6. æäº¤ä»£ç 
git add .
git commit -m "chore: å‘å¸ƒ v0.1.0"
git push
```

### åœºæ™¯6: æ¸…ç†é‡å»º

```bash
# 1. æ¸…ç†æ‰€æœ‰ç¼–è¯‘äº§ç‰©
pnpm run clean

# 2. é‡æ–°ç¼–è¯‘
pnpm run build

# 3. æ‰“åŒ…
pnpm run package
```

---

## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

### âœ… æ¨èåšæ³•

#### 1. **é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ç±»å‹**
- **Patch (0.0.x)**: Bug ä¿®å¤ã€æ–‡æ¡£æ›´æ–°ã€æ€§èƒ½ä¼˜åŒ–
- **Minor (0.x.0)**: æ–°åŠŸèƒ½ã€å‘åå…¼å®¹çš„æ”¹è¿›
- **Major (x.0.0)**: ç ´åæ€§æ›´æ”¹ã€é‡å¤§æ¶æ„è°ƒæ•´

#### 2. **å‘å¸ƒæµç¨‹**
```bash
# æ ‡å‡†æµç¨‹
git add .
git commit -m "feat: æ–°åŠŸèƒ½æè¿°"
pnpm run publish:minor  # æˆ– patch/major
git push
```

#### 3. **å‘å¸ƒå‰æµ‹è¯•**
```bash
# å…ˆæ‰“åŒ…æµ‹è¯•
pnpm run package:patch
# æµ‹è¯• .vsix
# ç¡®è®¤æ— è¯¯å
pnpm run publish
```

#### 4. **ä¿æŒ Git å¹²å‡€**
- å‘å¸ƒå‰ç¡®ä¿æ‰€æœ‰ä¿®æ”¹å·²æäº¤
- é¿å…åœ¨æœªæäº¤çŠ¶æ€ä¸‹å‘å¸ƒ
- ä½¿ç”¨æœ‰æ„ä¹‰çš„ commit ä¿¡æ¯

#### 5. **ç‰ˆæœ¬å·è§„èŒƒ**
éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰ï¼š
- **Major.Minor.Patch** (ä¾‹å¦‚ï¼š1.2.3)
- ä¸è¦éšæ„è·³è·ƒç‰ˆæœ¬å·
- ä¿æŒç‰ˆæœ¬å†å²è¿è´¯

### âŒ é¿å…çš„åšæ³•

#### 1. **ä¸è¦é‡å¤å‘å¸ƒç›¸åŒç‰ˆæœ¬**
```bash
# âŒ é”™è¯¯ç¤ºä¾‹
pnpm run publish  # ç‰ˆæœ¬ 0.0.1
pnpm run publish  # è¿˜æ˜¯ 0.0.1ï¼Œä¼šæŠ¥é”™
```
**è§£å†³**: å¿…é¡»å…ˆå‡çº§ç‰ˆæœ¬å·

#### 2. **ä¸è¦åœ¨ Git å·¥ä½œåŒºä¸å¹²å‡€æ—¶å‡çº§ç‰ˆæœ¬**
```bash
# âŒ é”™è¯¯ç¤ºä¾‹
# æœ‰æœªæäº¤çš„æ–‡ä»¶
pnpm run publish:patch  # å¯èƒ½å¯¼è‡´ç‰ˆæœ¬ä¸ä¸€è‡´
```
**è§£å†³**: å…ˆæäº¤æ‰€æœ‰ä¿®æ”¹

#### 3. **ä¸è¦è·³è¿‡æµ‹è¯•ç›´æ¥å‘å¸ƒ**
```bash
# âŒ é”™è¯¯ç¤ºä¾‹
# ä¿®æ”¹ä»£ç åç›´æ¥
pnpm run publish:minor  # æœªæµ‹è¯•å°±å‘å¸ƒ
```
**è§£å†³**: å…ˆç”¨ `pnpm run package` æ‰“åŒ…æµ‹è¯•

#### 4. **ä¸è¦åœ¨å¼€å‘åˆ†æ”¯å‘å¸ƒ**
```bash
# âŒ é”™è¯¯ç¤ºä¾‹
git checkout dev
pnpm run publish:patch  # åœ¨å¼€å‘åˆ†æ”¯å‘å¸ƒ
```
**è§£å†³**: åˆ‡æ¢åˆ° main/master åˆ†æ”¯å‘å¸ƒ

---

## ğŸ” å¸¸è§é—®é¢˜è§£ç­”

### Q1: å‘å¸ƒå¤±è´¥ï¼šç‰ˆæœ¬å·²å­˜åœ¨

**é”™è¯¯ä¿¡æ¯**: `ERROR MuWeiLiu.stock-viewer v0.0.4 already exists.`

**è§£å†³æ–¹æ³•**:
```bash
# å‡çº§åˆ°æ–°ç‰ˆæœ¬
pnpm run publish:patch  # æˆ– minor/major
```

### Q2: Git å·¥ä½œåŒºä¸å¹²å‡€

**é”™è¯¯ä¿¡æ¯**: `Git working directory not clean`

**è§£å†³æ–¹æ³•**:
```bash
# æäº¤æ‰€æœ‰ä¿®æ”¹
git add .
git commit -m "æè¿°ä¿¡æ¯"

# æˆ–è€…æš‚å­˜ä¿®æ”¹
git stash
pnpm run publish:patch
git stash pop
```

### Q3: Node.js ç‰ˆæœ¬ä¸åŒ¹é…

**é”™è¯¯ä¿¡æ¯**: `ReferenceError: File is not defined`

**åŸå› **: Node.js ç‰ˆæœ¬å¤ªä½ï¼Œé¡¹ç›®è¦æ±‚ Node.js 22

**è§£å†³æ–¹æ³•**:
```bash
# åˆ‡æ¢åˆ°æ­£ç¡®çš„ Node.js ç‰ˆæœ¬
nvm use

# æˆ–è€…æ‰‹åŠ¨å®‰è£…å¹¶åˆ‡æ¢
nvm install 22
nvm use 22
```

### Q4: vscode ç‰ˆæœ¬ä¸åŒ¹é…

**é”™è¯¯ä¿¡æ¯**: `@types/vscode greater than engines.vscode`

**è§£å†³æ–¹æ³•**:
åœ¨ `package.json` ä¸­å‡çº§ `engines.vscode`:
```json
"engines": {
  "vscode": "^1.85.0"
}
```

### Q5: å¦‚ä½•æ’¤é”€å·²å‘å¸ƒçš„ç‰ˆæœ¬ï¼Ÿ

**ä¸èƒ½ç›´æ¥æ’¤é”€**ï¼Œä½†å¯ä»¥ï¼š
1. å‘å¸ƒæ–°çš„ä¿®å¤ç‰ˆæœ¬
2. é€šè¿‡ Marketplace ç®¡ç†åå°æ ‡è®°ä¸ºå¼ƒç”¨
3. è”ç³» VS Code å›¢é˜Ÿåˆ é™¤ï¼ˆç‰¹æ®Šæƒ…å†µï¼‰

### Q6: .vsix æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ

**ä½ç½®**: é¡¹ç›®æ ¹ç›®å½•
**å‘½å**: `stock-viewer-x.x.x.vsix`
**æ¸…ç†**: `pnpm run clean` ä¼šåˆ é™¤

### Q7: å‘å¸ƒå‰çš„æ£€æŸ¥æ¸…å•

åœ¨è¿è¡Œå‘å¸ƒå‘½ä»¤å‰ï¼Œç¡®ä¿ï¼š
- âœ… Node.js ç‰ˆæœ¬æ­£ç¡®ï¼ˆä½¿ç”¨ `nvm use` åˆ‡æ¢åˆ°é¡¹ç›®è¦æ±‚çš„ç‰ˆæœ¬ï¼‰
- âœ… Git å·¥ä½œåŒºå¹²å‡€ï¼ˆæ‰€æœ‰ä¿®æ”¹å·²æäº¤ï¼‰
- âœ… ä»£ç å·²ç¼–è¯‘é€šè¿‡ï¼ˆ`pnpm run build`ï¼‰
- âœ… æœ¬åœ°æµ‹è¯•é€šè¿‡ï¼ˆ`pnpm run package` å¹¶å®‰è£…æµ‹è¯•ï¼‰
- âœ… ç‰ˆæœ¬å·ç¬¦åˆè¯­ä¹‰åŒ–è§„èŒƒ

---

## ğŸ”‘ å…³é”®æ€»ç»“

### å‘½ä»¤é€ŸæŸ¥

```bash
# å¼€å‘é˜¶æ®µ
pnpm run watch          # ç›‘å¬ç¼–è¯‘
pnpm run compile        # æ‰‹åŠ¨ç¼–è¯‘
pnpm run clean          # æ¸…ç†äº§ç‰©

# æµ‹è¯•é˜¶æ®µ
pnpm run package        # æ‰“åŒ…æµ‹è¯•
pnpm run package:patch  # å‡çº§ç‰ˆæœ¬+æ‰“åŒ…

# å‘å¸ƒé˜¶æ®µ
pnpm run publish:patch  # Bugä¿®å¤å‘å¸ƒ (0.0.x)
pnpm run publish:minor  # æ–°åŠŸèƒ½å‘å¸ƒ (0.x.0)
pnpm run publish:major  # é‡å¤§æ›´æ–°å‘å¸ƒ (x.0.0)
```

### å®Œæ•´å‘å¸ƒæµç¨‹

```bash
# 1. å¼€å‘ â†’ 2. æµ‹è¯• â†’ 3. æäº¤ â†’ 4. å‘å¸ƒ â†’ 5. æ¨é€

git add .
git commit -m "feat: æ–°åŠŸèƒ½"
pnpm run publish:minor
git push
```

### æ ¸å¿ƒç†å¿µ

- **version** = åªæ”¹ç‰ˆæœ¬å·ï¼ˆå‡†å¤‡é˜¶æ®µï¼‰
- **package** = æ‰“åŒ…æœ¬åœ°æ–‡ä»¶ï¼ˆæµ‹è¯•é˜¶æ®µï¼‰
- **publish** = å‘å¸ƒåˆ°å¸‚åœºï¼ˆå‘å¸ƒé˜¶æ®µï¼‰

**å¿«æ·æ–¹å¼**: `publish:patch/minor/major` ä¸€æ¡å‘½ä»¤æå®šæ‰€æœ‰æ­¥éª¤ï¼ğŸš€

---

## ğŸ“š ç›¸å…³é“¾æ¥

- [VS Code Extension API](https://code.visualstudio.com/api)
- [vsce CLI æ–‡æ¡£](https://github.com/microsoft/vscode-vsce)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)
- [é¡¹ç›® README](./README.md)

---

**æœ€åæ›´æ–°**: 2025-11-01

